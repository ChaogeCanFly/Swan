classdef ScalarPrinter < handle
    
    properties (Access = private)
        fileID
        fieldComponentName
        fieldValues
        fieldName
        istep
        fieldType
        fieldPosition
    end
    
    methods (Access = public)
        
        function obj = ScalarPrinter(fileID,fieldComponentName,fieldValues,fieldName,istep,fieldType,result_location)
            obj.init(fileID,fieldComponentName,fieldValues,fieldName,istep,fieldType,result_location);
            obj.print();
        end
        
    end
    
    methods (Access = private)
        
        function init(obj,fileID,fieldComponentName,fieldValues,fieldName,istep,fieldType,fieldPosition)
            obj.fileID             = fileID;
            obj.fieldComponentName = fieldComponentName;            
            obj.fieldValues        = fieldValues;
            obj.fieldName          = fieldName;
            obj.istep              = istep;
            obj.fieldType          = fieldType;
            obj.fieldPosition      = fieldPosition;
        end
        
        function print(obj)
            obj.printResultsLineHeader()
            obj.printComponentNamesLine();
            obj.printValuesLine();
            obj.printFieldLines();
            obj.printEndValuesLine();
        end
        
        function printResultsLineHeader(obj)  
            iD = obj.fileID;
            fN  = obj.fieldName;
            is = obj.istep;
            fT = obj.fieldType;
            rL = obj.fieldPosition;
            fprintf(iD,'\nResult "%s" %.0f %s %s\n',fN,'""',is,fT,rL);
        end
        
        function printComponentNamesLine(obj)
            iD = obj.fileID;
            fC = obj.fieldComponentName;
            fprintf(iD,'ComponentNames  "%s"\n',fC);
        end
        
        function printValuesLine(obj)
            iD = obj.fileID;
            fprintf(iD,'Values\n');
        end
        
        function printFieldLines(obj)
            iD = obj.fileID;
            fV = obj.fieldValues;
            for inode = 1:length(fV)
                fprintf(iD,'%6.0f ',inode);
                fprintf(iD,'%12.5d ',fV(inode));
                fprintf(iD,'\n');
            end
        end
        
        function printEndValuesLine(obj)
            iD = obj.fileID;
            fprintf(iD,'End Values\n');
        end
        
    end
    
end

